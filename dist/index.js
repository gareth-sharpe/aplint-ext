module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=11)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PROBLEM=0,t.PACKAGE=1,t.FILE=2,t.PRIORITY=3,t.LINE=4,t.DESCRIPTION=5,t.RULE_SET=6,t.RULE=7,t.CODE_STYLE="Manulife",t.BRACES_MUST_BE_FORMATTED_DESCRIPTION="Braces must be on same line and have proper spacing",t.PARANTHASES_MUST_BE_FORMATTED_DESCRIPTION="Paranthases must be on same line and have proper spacing",t.VARIABLES_MUST_BE_FORMATED_DESCRIPTION="Variables in paranthases must have consistent spacing",t.SPACE_MUST_FOLLOW_COMMA_DESCRIPTION="Space must follow a comma and comma must not follow a space",t.LOOPS_MUST_HAVE_FORMATTED_SPACING_DESCRIPTION="Loops must have formatted spacing",t.MUST_NOT_HAVE_EXTRA_SPACING_DESCRIPTION="Code must not have extra spacing",t.BRACES_MUST_BE_FORMATTED_RULE="BracesMustBeFormatted",t.PARANTHASES_MUST_BE_FORMATTED_RULE="ParanthasesMustBeFormatted",t.VARIABLES_MUST_BE_FORMATED_RULE="VaraiblesMustBeFormatted",t.SPACE_MUST_FOLLOW_COMMA_RULE="SpaceMustFollowComma",t.LOOPS_MUST_HAVE_FORMATTED_SPACING_RULE="LoopsMustHaveFormattedSpacing",t.MUST_NOT_HAVE_EXTRA_SPACING_RULE="MustNotHaveExtraSpacing"},function(e,t){e.exports=require("stream")},function(e,t){e.exports=require("zlib")},function(e,t){e.exports=require("vscode")},function(e,t){e.exports=require("url")},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("fs")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(0);t.createDiagnostic=e=>{const t=parseInt(e[i.LINE])-1;if(isNaN(t))return null;const n=e[i.RULE_SET],o=`${n}: ${e[i.DESCRIPTION]}`;let s;switch(parseInt(e[i.PRIORITY])){case 1:s=r.DiagnosticSeverity.Error;break;case 3:s=r.DiagnosticSeverity.Warning;break;case 4:s=r.DiagnosticSeverity.Information;break;default:s=r.DiagnosticSeverity.Hint}const a=new r.Diagnostic(new r.Range(new r.Position(t,0),new r.Position(t,100)),o,s);return a.source="APLint",a.code=`${e[i.RULE]} ${n}`,a}},function(e,t,n){"use strict";var r=n(9),i=n(17);function o(e,t,n,r){var i="",o=new RegExp(n,"g"),s=new RegExp('"',"g"),a=new RegExp("\n","g");if(0===e?e="0":null==e&&(e=""),"string"!=typeof e){var l=e.toString();"[object Object]"==l?"{}"==(e=JSON.stringify(e))&&(e=""):e=l}return(void 0!==t||r)&&(i=t+n),e.search(o)>=0||e.search(s)>=0||e.search(a)>=0?i+='"'+e.replace(s,'""')+'"':i+=""+e,i}t.eol="\r\n",t.separator=",",t.detect=function(e){var t=[",",";","|","\t"].map(function(t){return e.indexOf(t)}).reduce(function(e,t){return-1===e||-1!==t&&t<e?t:e});return e[t]||","},t.stringify=function(e,n){var r;if(n=n||t.separator,Array.isArray(e)&&0===e.length)r=t.eol;else if(Array.isArray(e)&&!Array.isArray(e[0])){for(var i=0;i<e.length;i++)r=o(e[i],r,n,i>0);r+=t.eol}else if(Array.isArray(e)&&Array.isArray(e[0]))r="",e.forEach(function(e){r+=t.stringify(e,n)});else if("object"==typeof e){for(var s in e)e.hasOwnProperty(s)&&(r=o(e[s],r,n));r+=t.eol}else r=o(e,r,n)+t.eol;return r},t.parse=function(e,n,i){return void 0===n&&(n=t.detect(e)),new r(e,n,i).File()},t.forEach=function(e,n,r,i){arguments.length<3?(i=n,n=","):arguments.length<4&&(i=r,r='"');for(var o,s=0,a=0;o=t.read(e.slice(a),n,r,function(e){i(e,s++)});)a+=o},t.read=function(e,t,n,i){arguments.length<3?(i=t,t=","):arguments.length<4&&(i=n,n='"');var o=new r(e,t,n),s=o.Row();return i(s),o.pointer},t.readAll=function(e,t,n,i){arguments.length<3?(i=t,t=","):arguments.length<4&&(i=n,n='"');var o=new r(e,t,n),s=o.File();return i(s),o.pointer},t.readChunk=function(e,t,n,i){arguments.length<3?(i=t,t=","):arguments.length<4&&(i=n,n='"');var o=new r(e,t,n),s=o.File(),a=0;return o.pointer<e.length?a=o.pointer:(s.pop(),a=o.linePointer),i(s),a},t.fetch=function(e,n,r){var i;return t.read(e,n,r,function(e){i=e}),i},t.createStream=function(e){return new i(e)}},function(e,t,n){"use strict";function r(e,t,n){if(!(this instanceof r))return new r(e,t);this.input=e,this.pointer=0,this.linePointer=0,this.comma=",",this.quote='"',t&&t[0]&&(this.comma=t[0]),n&&n[0]&&(this.quote=n[0]);var i=" \f\v  ᠎           \u2028\u2029  　";"\t"!==this.comma&&(i+="\t"),this._residueRegExp=new RegExp("[^"+i+"]"),this._simpleValueRegExp=new RegExp("["+this.comma+"\r\n]"),this._replaceQuoteRegExp=new RegExp(this.quote+this.quote,"g")}r.prototype.File=function(){for(var e,t=[];;){var n=this.pointer;if(!((e=this.Row()).length>0)){this.linePointer&&this.pointer!==this.input.length&&(t.pop(),this.pointer=this.linePointer);break}if(this.linePointer=n,t.push(e),this.EOF()){this.linePointer&&this.pointer!==this.input.length&&(t.pop(),this.pointer=this.linePointer);break}}return t},r.prototype.Row=function(){for(var e,t,n,r=[];;)if((e=this.Value())?r.push(e):r.push(""),!this.Comma())return t=this.LineBreak(),n=this.EOF(),t||n?r:(r.pop(),r)},r.prototype.Value=function(){var e,t,n;if(n=this.Residue(),t=this.QuotedValue()){var r=t.slice(1,-1).replace(this._replaceQuoteRegExp,this.quote);return this.Residue(),r}return(e=this.SimpleValue())&&n?n+e:e&&!n?e:void 0},r.prototype.Comma=function(){if(this.input.slice(this.pointer,this.pointer+this.comma.length)===this.comma)return this.pointer+=this.comma.length,this.comma},r.prototype.LineBreak=function(){return"\r\n"===this.input.slice(this.pointer,this.pointer+2)?(this.pointer+=2,"\r\n"):"\n"===this.input.charAt(this.pointer)?(this.pointer+=1,"\n"):"\r"===this.input.charAt(this.pointer)?(this.pointer+=1,"\r"):void 0},r.prototype.SimpleValue=function(){var e="",t=this.input.slice(this.pointer).search(this._simpleValueRegExp);if(this.input.charAt(this.pointer)!==this.quote){if(-1===t)e=this.input.slice(this.pointer);else{if(0===t)return;e=this.input.slice(this.pointer,this.pointer+t)}return this.pointer+=e.length,e}},r.prototype.QuotedValue=function(){if(this.input.charAt(this.pointer)===this.quote)for(var e,t=1;;){if(-1===(e=this.input.slice(this.pointer+t).search(this.quote)))return;if(this.input.charAt(this.pointer+t+e+1)!==this.quote){var n=this.input.slice(this.pointer,this.pointer+t+e+1);return this.pointer+=n.length,n}t+=e+2}},r.prototype.EOF=function(){return this.pointer>=this.input.length},r.prototype.Residue=function(){var e="",t=this.input.slice(this.pointer).search(this._residueRegExp);if(-1===t)e=this.input.slice(this.pointer);else{if(0===t)return;e=this.input.slice(this.pointer,this.pointer+t)}return this.pointer+=e.length,e},e.exports=r},function(e,t){e.exports=require("https")},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(3),o=n(12),s=n(27),a=n(30),l=["apex","visualforce"],u=e=>0<=l.indexOf(e),c=i.languages.createDiagnosticCollection("aplint");t.activate=function(e){const t=i.commands.registerCommand("extension.APLint:RunOnFile",()=>r(this,void 0,void 0,function*(){i.commands.executeCommand("extension.APLint:ClearProblems");const e=i.window.activeTextEditor.document.fileName;o.run(c,e)})),n=i.commands.registerCommand("extension.APLint:RunOnDirectory",()=>r(this,void 0,void 0,function*(){i.commands.executeCommand("extension.APLint:ClearProblems");const e=i.window.activeTextEditor.document.fileName,t=e.lastIndexOf("/"),n=e.slice(0,t);o.run(c,n)})),l=i.commands.registerCommand("extension.APLint:ClearProblems",()=>{c.clear()}),h=i.commands.registerCommand("extension.APLint:OpenRuleDocumentation",e=>{s.openRule(e)});i.workspace.onDidSaveTextDocument(e=>{if(u(e.languageId)){const e=i.window.activeTextEditor.document.fileName;o.run(c,e)}}),i.window.onDidChangeActiveTextEditor(e=>{if(u(e.document.languageId)){const e=i.window.activeTextEditor.document.fileName;o.run(c,e)}});const p=i.languages.registerCodeActionsProvider("apex",new a.DocumentationProvider(c),{providedCodeActionKinds:a.DocumentationProvider.providedCodeActionKinds});e.subscriptions.push(t,n,l,h,p)},t.deactivate=function(){}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(3),o=n(13),s=n(15),a=n(18);t.run=(e,t)=>r(this,void 0,void 0,function*(){const n=yield o.execCmd(t),r=s.parseCSV(n);if(yield a.lint(t,r),r.size>0)for(let[t,n]of r){let r=i.Uri.file(t),o=yield i.workspace.openTextDocument(r);n.forEach(e=>{let t=o.lineAt(e.range.start.line);e.range=new i.Range(new i.Position(t.range.start.line,t.firstNonWhitespaceCharacterIndex),t.range.end)}),e.set(r,n)}})},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(14),o=n(3),s=n(6);t.execCmd=(e,t)=>r(this,void 0,void 0,function*(){const t=__dirname;let n=o.workspace.getConfiguration().get("aplint.customRulesets");const r="win32"===process.platform,a=r?`${t}\\..\\config\\manulife`:`${t}/../config/manulife`,l=yield s.readdirSync(a);let u=r?`-R ${t}\\..\\ruleset.xml`:`-R ${t}/../ruleset.xml`;l.forEach(e=>{const t=r?`,${a}\\${e}`:`,${a}/${e}`;u=u.concat(t)});const c=`${`-d ${e}`} ${n.length?`-R ${n}`:u} -f csv`,h=r?`${t}\\..\\pmd-bin-6.16.0\\bin\\pmd.bat ${c}`:`${t}/../pmd-bin-6.16.0/bin/run.sh pmd ${c}`;let p;try{p=i.exec(h)}catch(e){console.error("e",e)}let f="";return f=yield new Promise((e,t)=>{p.stdout.on("data",e=>{f+=e}),p.stderr.on("data",e=>{console.error("stderr message",e)}),p.addListener("error",e=>{console.error("error code",e),t("APLint failed on error.")}),p.addListener("exit",n=>{0!==n&&4!==n&&t("APLint failed on exit."),e(f)})})})},function(e,t){e.exports=require("child_process")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7),i=n(0),o=n(16);t.parseCSV=e=>{let t;(t=o.parse(e)).shift();const n=new Map;return t.forEach(e=>{const t=r.createDiagnostic(e);t&&(n.has(e[i.FILE])?n.get(e[i.FILE]).push(t):n.set(e[i.FILE],[t]))}),n}},function(e,t,n){e.exports=n(8)},function(e,t,n){"use strict";var r=n(1).Transform,i=n(9);function o(e){r.call(this,{readableObjectMode:!0,writableObjectMode:!1}),this.buffer="",this.sep=e&&e.separator?e.separator:void 0,this.quo=e&&e.quote?e.quote:void 0}o.prototype=Object.create(r.prototype,{constructor:{value:o}}),o.prototype._transform=function(e,t,r){this.buffer=this.buffer.concat(e.toString()),void 0===this.sep&&(this.sep=n(8).detect(this.buffer));var o=new i(this.buffer,this.sep,this.quo),s=o.File();if(o.linePointer!==o.pointer&&s.pop(),this.buffer=this.buffer.slice(o.linePointer),s.length>0){var a=this;s.forEach(function(e){a.push(e)})}r()},o.prototype._flush=function(e){var t=new i(this.buffer,this.sep,this.quo).File();if(t.length>0){var n=this;t.forEach(function(e){n.push(e)})}e()},e.exports=o},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(7),o=n(0),s=n(19),a=n(21),l=n(22),u=n(23),c=n(24),h=n(25),{createReadStream:p}=n(6),{createInterface:f}=n(26);t.lint=(e,t)=>r(this,void 0,void 0,function*(){let n=[];yield new Promise((t,r)=>{const i=f({input:p(e),crlfDelay:1/0});let o=0;i.on("line",t=>{o++;const r=s.lintForClassBraceSpacing(e,t,o),i=l.lintForVariableSpacing(e,t,o),p=s.lintForBraceSpacing(e,t,o),f=a.lintForParenthesesSpacing(e,t,o),d=u.lintForSpaceAfterComma(e,t,o),g=c.lintForLoopSpacing(e,t,o),m=h.lintForExtraSpacing(e,t,o);n=n.concat(i,r,p,f,d,g,m)}),i.on("close",t)}),n.forEach(e=>{const n=i.createDiagnostic(e);t.has(e[o.FILE])?t.get(e[o.FILE]).push(n):t.set(e[o.FILE],[n])})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(20),i=n(0);t.lintForClassBraceSpacing=(e,t,n)=>{if(!t.includes("class"))return[];let o=[];if(!/class \w* {/g.test(t)){const t=r.makeResult(e,3,n,i.CODE_STYLE,i.BRACES_MUST_BE_FORMATTED_DESCRIPTION,i.BRACES_MUST_BE_FORMATTED_RULE);o.push(t)}return o},t.lintForBraceSpacing=(e,t,n)=>{if(!/\(.*\)[^;]/g.test(t))return[];let o=[];if(!/\(.*\) {/g.test(t)){const t=r.makeResult(e,3,n,i.CODE_STYLE,i.BRACES_MUST_BE_FORMATTED_DESCRIPTION,i.BRACES_MUST_BE_FORMATTED_RULE);o.push(t)}return o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.makeResult=(e,t,n,i,o,s)=>{return{[r.FILE]:e,[r.PRIORITY]:t,[r.LINE]:n,[r.DESCRIPTION]:o,[r.RULE_SET]:i,[r.RULE]:s}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(0);t.lintForParenthesesSpacing=(e,t,n)=>{if(!t.match(/^[^\/*]+(for|while|if|switch|else if)/g))return[];let o=[];if(!/\s\(.*\)\s/g.test(t)){const t={[r.FILE]:e,[r.PRIORITY]:3,[r.LINE]:n,[r.DESCRIPTION]:i.PARANTHASES_MUST_BE_FORMATTED_DESCRIPTION,[r.RULE_SET]:i.CODE_STYLE,[r.RULE]:i.PARANTHASES_MUST_BE_FORMATTED_RULE};o.push(t)}return o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(0);t.lintForVariableSpacing=(e,t,n)=>{if(/\(.*\)[;]/g.test(t)||!t.match(/^[^\/*]+(while|if|else if)/g))return[];let o=[];if(!/\([!]?([a-zA-Z0-9.]+(\+\+|--)?|[a-zA-Z0-9.]+(\+\+|--)?(\s[-\+&|=*%]+\s[!]?[a-zA-Z0-9.]+(\+\+|--)?)+)\)/g.test(t)){const t={[r.FILE]:e,[r.PRIORITY]:3,[r.LINE]:n,[r.DESCRIPTION]:i.VARIABLES_MUST_BE_FORMATED_DESCRIPTION,[r.RULE_SET]:i.CODE_STYLE,[r.RULE]:i.VARIABLES_MUST_BE_FORMATED_RULE};o.push(t)}return o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(0);t.lintForSpaceAfterComma=(e,t,n)=>{let o=[];if(/(,[^\s]|\s,)/g.test(t)){const t={[r.FILE]:e,[r.PRIORITY]:3,[r.LINE]:n,[r.DESCRIPTION]:i.SPACE_MUST_FOLLOW_COMMA_DESCRIPTION,[r.RULE_SET]:i.CODE_STYLE,[r.RULE]:i.SPACE_MUST_FOLLOW_COMMA_RULE};o.push(t)}return o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(0);t.lintForLoopSpacing=(e,t,n)=>{if(/\(.*\)[;]/g.test(t)||!t.match(/^[^\/*]+(while|for)/g))return[];const o=/(([^\s](=|<|>|<=|>=|-(?!-)|\+(?!\+)))|((=|<|>|<=|>=|-|\+)[^\s]))(?<!--|\+\+|-\)|\+\))/g.test(t),s=/(;)[^\s]/g.test(t);let a=[];if(o){const t={[r.FILE]:e,[r.PRIORITY]:3,[r.LINE]:n,[r.DESCRIPTION]:i.LOOPS_MUST_HAVE_FORMATTED_SPACING_DESCRIPTION,[r.RULE_SET]:i.CODE_STYLE,[r.RULE]:i.LOOPS_MUST_HAVE_FORMATTED_SPACING_RULE};a.push(t)}if(s){const t={[r.FILE]:e,[r.PRIORITY]:3,[r.LINE]:n,[r.DESCRIPTION]:i.LOOPS_MUST_HAVE_FORMATTED_SPACING_DESCRIPTION,[r.RULE_SET]:i.CODE_STYLE,[r.RULE]:i.LOOPS_MUST_HAVE_FORMATTED_SPACING_RULE};a.push(t)}return a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(0);t.lintForExtraSpacing=(e,t,n)=>{let o=[];if(/[^(\s*)]( {2,})+?/g.test(t)){const t={[r.FILE]:e,[r.PRIORITY]:3,[r.LINE]:n,[r.DESCRIPTION]:i.MUST_NOT_HAVE_EXTRA_SPACING_DESCRIPTION,[r.RULE_SET]:i.CODE_STYLE,[r.RULE]:i.MUST_NOT_HAVE_EXTRA_SPACING_RULE};o.push(t)}return o}},function(e,t){e.exports=require("readline")},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(3),o=n(28),s=n(29).default;t.openRule=e=>r(this,void 0,void 0,function*(){const t=i.window.createWebviewPanel("aplint","Rule Description",i.ViewColumn.Two),n=a(e),{url:r,rule:l,custom:u}=n,c=yield s(r),h=yield c.text();let p;if(u){p=o(h),p=`<br><a href=${r}> View in browser </a>`.concat(p)}else{const e=h.indexOf(`<h2 id="${l.toLowerCase()}">${l}</h2>`),t=h.indexOf("Use this rule with the default properties by just referencing it"),n=h.substring(e,t);p=`<br><a href=${r}> View in browser </a>`.concat(n)}t.webview.html=p});const a=e=>{const{code:t}=e,n=String(t).split(" ");3===n.length&&(n[1]+=n[2]);const r=n[0],i=n[1];let o={rule:r,category:i};return-1===["BestPractices","CodeStyle","Design","Documentation","ErrorProne","Performance","Security"].indexOf(i)?(o.custom=!0,o.url=`https://raw.githubusercontent.com/gareth-sharpe/aplint-ext/master/src/docs/${i}/${r}.md`):(o.custom=!1,o.url=`https://pmd.github.io/latest/pmd_rules_apex_${i.toLowerCase()}.html#${r.toLowerCase()}`),o}},function(e,t,n){!function(t){"use strict";var n={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}|~{3,})([^`~\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:m,table:m,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/};function r(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||x.defaults,this.rules=n.normal,this.options.pedantic?this.rules=n.pedantic:this.options.gfm&&(this.rules=n.gfm)}n._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,n._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,n.def=p(n.def).replace("label",n._label).replace("title",n._title).getRegex(),n.bullet=/(?:[*+-]|\d{1,9}\.)/,n.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,n.item=p(n.item,"gm").replace(/bull/g,n.bullet).getRegex(),n.list=p(n.list).replace(/bull/g,n.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+n.def.source+")").getRegex(),n._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",n._comment=/<!--(?!-?>)[\s\S]*?-->/,n.html=p(n.html,"i").replace("comment",n._comment).replace("tag",n._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),n.paragraph=p(n._paragraph).replace("hr",n.hr).replace("heading"," {0,3}#{1,6} +").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}|~{3,})[^`\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",n._tag).getRegex(),n.blockquote=p(n.blockquote).replace("paragraph",n.paragraph).getRegex(),n.normal=b({},n),n.gfm=b({},n.normal,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),n.pedantic=b({},n.normal,{html:p("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",n._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:m,paragraph:p(n.normal._paragraph).replace("hr",n.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",n.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()}),r.rules=n,r.lex=function(e,t){return new r(t).lex(e)},r.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},r.prototype.token=function(e,t){var r,i,o,s,a,l,u,h,p,f,d,g,m,b,w,E;for(e=e.replace(/^ +$/gm,"");e;)if((o=this.rules.newline.exec(e))&&(e=e.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(e)){var x=this.tokens[this.tokens.length-1];e=e.substring(o[0].length),x&&"paragraph"===x.type?x.text+="\n"+o[0].trimRight():(o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",codeBlockStyle:"indented",text:this.options.pedantic?o:_(o,"\n")}))}else if(o=this.rules.fences.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"code",lang:o[2]?o[2].trim():o[2],text:o[3]||""});else if(o=this.rules.heading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if((o=this.rules.nptable.exec(e))&&(l={type:"table",header:y(o[1].replace(/^ *| *\| *$/g,"")),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3]?o[3].replace(/\n$/,"").split("\n"):[]}).header.length===l.align.length){for(e=e.substring(o[0].length),d=0;d<l.align.length;d++)/^ *-+: *$/.test(l.align[d])?l.align[d]="right":/^ *:-+: *$/.test(l.align[d])?l.align[d]="center":/^ *:-+ *$/.test(l.align[d])?l.align[d]="left":l.align[d]=null;for(d=0;d<l.cells.length;d++)l.cells[d]=y(l.cells[d],l.header.length);this.tokens.push(l)}else if(o=this.rules.hr.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,t),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(e)){for(e=e.substring(o[0].length),u={type:"list_start",ordered:b=(s=o[2]).length>1,start:b?+s:"",loose:!1},this.tokens.push(u),h=[],r=!1,m=(o=o[0].match(this.rules.item)).length,d=0;d<m;d++)f=(l=o[d]).length,~(l=l.replace(/^ *([*+-]|\d+\.) */,"")).indexOf("\n ")&&(f-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+f+"}","gm"),"")),d!==m-1&&(a=n.bullet.exec(o[d+1])[0],(s.length>1?1===a.length:a.length>1||this.options.smartLists&&a!==s)&&(e=o.slice(d+1).join("\n")+e,d=m-1)),i=r||/\n\n(?!\s*$)/.test(l),d!==m-1&&(r="\n"===l.charAt(l.length-1),i||(i=r)),i&&(u.loose=!0),E=void 0,(w=/^\[[ xX]\] /.test(l))&&(E=" "!==l[1],l=l.replace(/^\[[ xX]\] +/,"")),p={type:"list_item_start",task:w,checked:E,loose:i},h.push(p),this.tokens.push(p),this.token(l,!1),this.tokens.push({type:"list_item_end"});if(u.loose)for(m=h.length,d=0;d<m;d++)h[d].loose=!0;this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(e))e=e.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):c(o[0]):o[0]});else if(t&&(o=this.rules.def.exec(e)))e=e.substring(o[0].length),o[3]&&(o[3]=o[3].substring(1,o[3].length-1)),g=o[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[g]||(this.tokens.links[g]={href:o[2],title:o[3]});else if((o=this.rules.table.exec(e))&&(l={type:"table",header:y(o[1].replace(/^ *| *\| *$/g,"")),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3]?o[3].replace(/\n$/,"").split("\n"):[]}).header.length===l.align.length){for(e=e.substring(o[0].length),d=0;d<l.align.length;d++)/^ *-+: *$/.test(l.align[d])?l.align[d]="right":/^ *:-+: *$/.test(l.align[d])?l.align[d]="center":/^ *:-+ *$/.test(l.align[d])?l.align[d]="left":l.align[d]=null;for(d=0;d<l.cells.length;d++)l.cells[d]=y(l.cells[d].replace(/^ *\| *| *\| *$/g,""),l.header.length);this.tokens.push(l)}else if(o=this.rules.lheading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2].charAt(0)?1:2,text:o[1]});else if(t&&(o=this.rules.paragraph.exec(e)))e=e.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var i={escape:/^\\([!"#$%&'()*+,\-.\/:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:m,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<"][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:m,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/};function o(e,t){if(this.options=t||x.defaults,this.links=e,this.rules=i.normal,this.renderer=this.options.renderer||new s,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=i.pedantic:this.options.gfm&&(this.options.breaks?this.rules=i.breaks:this.rules=i.gfm)}function s(e){this.options=e||x.defaults}function a(){}function l(e){this.tokens=[],this.token=null,this.options=e||x.defaults,this.options.renderer=this.options.renderer||new s,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new u}function u(){this.seen={}}function c(e,t){if(t){if(c.escapeTest.test(e))return e.replace(c.escapeReplace,function(e){return c.replacements[e]})}else if(c.escapeTestNoEncode.test(e))return e.replace(c.escapeReplaceNoEncode,function(e){return c.replacements[e]});return e}function h(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function p(e,t){return e=e.source||e,t=t||"",{replace:function(t,n){return n=(n=n.source||n).replace(/(^|[^\[])\^/g,"$1"),e=e.replace(t,n),this},getRegex:function(){return new RegExp(e,t)}}}function f(e,t,n){if(e){try{var r=decodeURIComponent(h(n)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}t&&!g.test(n)&&(n=function(e,t){d[" "+e]||(/^[^:]+:\/*[^\/]*$/.test(e)?d[" "+e]=e+"/":d[" "+e]=_(e,"/",!0));return e=d[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^\/]*)[\s\S]*/,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}i._punctuation="!\"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~",i.em=p(i.em).replace(/punctuation/g,i._punctuation).getRegex(),i._escapes=/\\([!"#$%&'()*+,\-.\/:;<=>?@\[\]\\^_`{|}~])/g,i._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,i._email=/[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,i.autolink=p(i.autolink).replace("scheme",i._scheme).replace("email",i._email).getRegex(),i._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,i.tag=p(i.tag).replace("comment",n._comment).replace("attribute",i._attribute).getRegex(),i._label=/(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,i._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,i._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,i.link=p(i.link).replace("label",i._label).replace("href",i._href).replace("title",i._title).getRegex(),i.reflink=p(i.reflink).replace("label",i._label).getRegex(),i.normal=b({},i),i.pedantic=b({},i.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:p(/^!?\[(label)\]\((.*?)\)/).replace("label",i._label).getRegex(),reflink:p(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",i._label).getRegex()}),i.gfm=b({},i.normal,{escape:p(i.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),i.gfm.url=p(i.gfm.url,"i").replace("email",i.gfm._extended_email).getRegex(),i.breaks=b({},i.gfm,{br:p(i.br).replace("{2,}","*").getRegex(),text:p(i.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),o.rules=i,o.output=function(e,t,n){return new o(t,n).output(e)},o.prototype.output=function(e){for(var t,n,r,i,s,a,l="";e;)if(s=this.rules.escape.exec(e))e=e.substring(s[0].length),l+=c(s[1]);else if(s=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(s[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(s[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(s[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(s[0])&&(this.inRawBlock=!1),e=e.substring(s[0].length),l+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(s[0]):c(s[0]):s[0];else if(s=this.rules.link.exec(e)){var u=w(s[2],"()");if(u>-1){var h=4+s[1].length+u;s[2]=s[2].substring(0,u),s[0]=s[0].substring(0,h).trim(),s[3]=""}e=e.substring(s[0].length),this.inLink=!0,r=s[2],this.options.pedantic?(t=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r))?(r=t[1],i=t[3]):i="":i=s[3]?s[3].slice(1,-1):"",r=r.trim().replace(/^<([\s\S]*)>$/,"$1"),l+=this.outputLink(s,{href:o.escapes(r),title:o.escapes(i)}),this.inLink=!1}else if((s=this.rules.reflink.exec(e))||(s=this.rules.nolink.exec(e))){if(e=e.substring(s[0].length),t=(s[2]||s[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){l+=s[0].charAt(0),e=s[0].substring(1)+e;continue}this.inLink=!0,l+=this.outputLink(s,t),this.inLink=!1}else if(s=this.rules.strong.exec(e))e=e.substring(s[0].length),l+=this.renderer.strong(this.output(s[4]||s[3]||s[2]||s[1]));else if(s=this.rules.em.exec(e))e=e.substring(s[0].length),l+=this.renderer.em(this.output(s[6]||s[5]||s[4]||s[3]||s[2]||s[1]));else if(s=this.rules.code.exec(e))e=e.substring(s[0].length),l+=this.renderer.codespan(c(s[2].trim(),!0));else if(s=this.rules.br.exec(e))e=e.substring(s[0].length),l+=this.renderer.br();else if(s=this.rules.del.exec(e))e=e.substring(s[0].length),l+=this.renderer.del(this.output(s[1]));else if(s=this.rules.autolink.exec(e))e=e.substring(s[0].length),r="@"===s[2]?"mailto:"+(n=c(this.mangle(s[1]))):n=c(s[1]),l+=this.renderer.link(r,null,n);else if(this.inLink||!(s=this.rules.url.exec(e))){if(s=this.rules.text.exec(e))e=e.substring(s[0].length),this.inRawBlock?l+=this.renderer.text(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(s[0]):c(s[0]):s[0]):l+=this.renderer.text(c(this.smartypants(s[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else{if("@"===s[2])r="mailto:"+(n=c(s[0]));else{do{a=s[0],s[0]=this.rules._backpedal.exec(s[0])[0]}while(a!==s[0]);n=c(s[0]),r="www."===s[1]?"http://"+n:n}e=e.substring(s[0].length),l+=this.renderer.link(r,null,n)}return l},o.escapes=function(e){return e?e.replace(o.rules._escapes,"$1"):e},o.prototype.outputLink=function(e,t){var n=t.href,r=t.title?c(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,c(e[1]))},o.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},o.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",r=e.length,i=0;i<r;i++)t=e.charCodeAt(i),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},s.prototype.code=function(e,t,n){var r=(t||"").match(/\S*/)[0];if(this.options.highlight){var i=this.options.highlight(e,r);null!=i&&i!==e&&(n=!0,e=i)}return r?'<pre><code class="'+this.options.langPrefix+c(r,!0)+'">'+(n?e:c(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:c(e,!0))+"</code></pre>"},s.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},s.prototype.html=function(e){return e},s.prototype.heading=function(e,t,n,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},s.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},s.prototype.list=function(e,t,n){var r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"},s.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},s.prototype.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},s.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},s.prototype.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},s.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},s.prototype.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},s.prototype.strong=function(e){return"<strong>"+e+"</strong>"},s.prototype.em=function(e){return"<em>"+e+"</em>"},s.prototype.codespan=function(e){return"<code>"+e+"</code>"},s.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},s.prototype.del=function(e){return"<del>"+e+"</del>"},s.prototype.link=function(e,t,n){if(null===(e=f(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<a href="'+c(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>"},s.prototype.image=function(e,t,n){if(null===(e=f(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},s.prototype.text=function(e){return e},a.prototype.strong=a.prototype.em=a.prototype.codespan=a.prototype.del=a.prototype.text=function(e){return e},a.prototype.link=a.prototype.image=function(e,t,n){return""+n},a.prototype.br=function(){return""},l.parse=function(e,t){return new l(t).parse(e)},l.prototype.parse=function(e){this.inline=new o(e.links,this.options),this.inlineText=new o(e.links,b({},this.options,{renderer:new a})),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},l.prototype.next=function(){return this.token=this.tokens.pop(),this.token},l.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},l.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},l.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,h(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,r,i="",o="";for(n="",e=0;e<this.token.header.length;e++)n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(i+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",r=0;r<t.length;r++)n+=this.renderer.tablecell(this.inline.output(t[r]),{header:!1,align:this.token.align[r]});o+=this.renderer.tablerow(n)}return this.renderer.table(i,o);case"blockquote_start":for(o="";"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case"list_start":o="";for(var s=this.token.ordered,a=this.token.start;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,s,a);case"list_item_start":o="";var l=this.token.loose,u=this.token.checked,c=this.token.task;for(this.token.task&&(o+=this.renderer.checkbox(u));"list_item_end"!==this.next().type;)o+=l||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(o,c,u);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:var p='Token with "'+this.token.type+'" type was not found.';if(!this.options.silent)throw new Error(p);console.log(p)}},u.prototype.slug=function(e){var t=e.toLowerCase().trim().replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,.\/:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(t)){var n=t;do{this.seen[n]++,t=n+"-"+this.seen[n]}while(this.seen.hasOwnProperty(t))}return this.seen[t]=0,t},c.escapeTest=/[&<>"']/,c.escapeReplace=/[&<>"']/g,c.replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},c.escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/,c.escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;var d={},g=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function m(){}function b(e){for(var t,n,r=1;r<arguments.length;r++)for(n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function y(e,t){var n=e.replace(/\|/g,function(e,t,n){for(var r=!1,i=t;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"}).split(/ \|/),r=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function _(e,t,n){if(0===e.length)return"";for(var r=0;r<e.length;){var i=e.charAt(e.length-r-1);if(i!==t||n){if(i===t||!n)break;r++}else r++}return e.substr(0,e.length-r)}function w(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=0,r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&--n<0)return r;return-1}function E(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function x(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(n||"function"==typeof t){n||(n=t,t=null),E(t=b({},x.defaults,t||{}));var i,o,s=t.highlight,a=0;try{i=r.lex(e,t)}catch(e){return n(e)}o=i.length;var u=function(e){if(e)return t.highlight=s,n(e);var r;try{r=l.parse(i,t)}catch(t){e=t}return t.highlight=s,e?n(e):n(null,r)};if(!s||s.length<3)return u();if(delete t.highlight,!o)return u();for(;a<i.length;a++)!function(e){"code"!==e.type?--o||u():s(e.text,e.lang,function(t,n){return t?u(t):null==n||n===e.text?--o||u():(e.text=n,e.escaped=!0,void(--o||u()))})}(i[a])}else try{return t&&(t=b({},x.defaults,t)),E(t),l.parse(r.lex(e,t),t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||x.defaults).silent)return"<p>An error occurred:</p><pre>"+c(e.message+"",!0)+"</pre>";throw e}}m.exec=m,x.options=x.setOptions=function(e){return b(x.defaults,e),x},x.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new s,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1}},x.defaults=x.getDefaults(),x.Parser=l,x.parser=l.parse,x.Renderer=s,x.TextRenderer=a,x.Lexer=r,x.lexer=r.lex,x.InlineLexer=o,x.inlineLexer=o.output,x.Slugger=u,x.parse=x,e.exports=x}(this||("undefined"!=typeof window?window:global))},function(e,t,n){"use strict";n.r(t),n.d(t,"Headers",function(){return A}),n.d(t,"Request",function(){return q}),n.d(t,"Response",function(){return D}),n.d(t,"FetchError",function(){return p});var r=n(1),i=n(5),o=n(4),s=n(10),a=n(2);const l=r.Readable,u=Symbol("buffer"),c=Symbol("type");class h{constructor(){this[c]="";const e=arguments[0],t=arguments[1],n=[];let r=0;if(e){const t=e,i=Number(t.length);for(let e=0;e<i;e++){const i=t[e];let o;r+=(o=i instanceof Buffer?i:ArrayBuffer.isView(i)?Buffer.from(i.buffer,i.byteOffset,i.byteLength):i instanceof ArrayBuffer?Buffer.from(i):i instanceof h?i[u]:Buffer.from("string"==typeof i?i:String(i))).length,n.push(o)}}this[u]=Buffer.concat(n);let i=t&&void 0!==t.type&&String(t.type).toLowerCase();i&&!/[^\u0020-\u007E]/.test(i)&&(this[c]=i)}get size(){return this[u].length}get type(){return this[c]}text(){return Promise.resolve(this[u].toString())}arrayBuffer(){const e=this[u],t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return Promise.resolve(t)}stream(){const e=new l;return e._read=function(){},e.push(this[u]),e.push(null),e}toString(){return"[object Blob]"}slice(){const e=this.size,t=arguments[0],n=arguments[1];let r,i;r=void 0===t?0:t<0?Math.max(e+t,0):Math.min(t,e),i=void 0===n?e:n<0?Math.max(e+n,0):Math.min(n,e);const o=Math.max(i-r,0),s=this[u].slice(r,r+o),a=new h([],{type:arguments[2]});return a[u]=s,a}}function p(e,t,n){Error.call(this,e),this.message=e,this.type=t,n&&(this.code=this.errno=n.code),Error.captureStackTrace(this,this.constructor)}let f;Object.defineProperties(h.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(h.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),p.prototype=Object.create(Error.prototype),p.prototype.constructor=p,p.prototype.name="FetchError";try{f=require("encoding").convert}catch(e){}const d=Symbol("Body internals"),g=r.PassThrough;function m(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.size;let o=void 0===i?0:i;var s=n.timeout;let a=void 0===s?0:s;null==e?e=null:y(e)?e=Buffer.from(e.toString()):_(e)||Buffer.isBuffer(e)||("[object ArrayBuffer]"===Object.prototype.toString.call(e)?e=Buffer.from(e):ArrayBuffer.isView(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof r||(e=Buffer.from(String(e)))),this[d]={body:e,disturbed:!1,error:null},this.size=o,this.timeout=a,e instanceof r&&e.on("error",function(e){const n="AbortError"===e.name?e:new p(`Invalid response body while trying to fetch ${t.url}: ${e.message}`,"system",e);t[d].error=n})}function b(){var e=this;if(this[d].disturbed)return m.Promise.reject(new TypeError(`body used already for: ${this.url}`));if(this[d].disturbed=!0,this[d].error)return m.Promise.reject(this[d].error);let t=this.body;if(null===t)return m.Promise.resolve(Buffer.alloc(0));if(_(t)&&(t=t.stream()),Buffer.isBuffer(t))return m.Promise.resolve(t);if(!(t instanceof r))return m.Promise.resolve(Buffer.alloc(0));let n=[],i=0,o=!1;return new m.Promise(function(r,s){let a;e.timeout&&(a=setTimeout(function(){o=!0,s(new p(`Response timeout while trying to fetch ${e.url} (over ${e.timeout}ms)`,"body-timeout"))},e.timeout)),t.on("error",function(t){"AbortError"===t.name?(o=!0,s(t)):s(new p(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t))}),t.on("data",function(t){if(!o&&null!==t){if(e.size&&i+t.length>e.size)return o=!0,void s(new p(`content size at ${e.url} over limit: ${e.size}`,"max-size"));i+=t.length,n.push(t)}}),t.on("end",function(){if(!o){clearTimeout(a);try{r(Buffer.concat(n,i))}catch(t){s(new p(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t))}}})})}function y(e){return"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&("URLSearchParams"===e.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(e)||"function"==typeof e.sort)}function _(e){return"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}function w(e){let t,n,i=e.body;if(e.bodyUsed)throw new Error("cannot clone body after it is used");return i instanceof r&&"function"!=typeof i.getBoundary&&(t=new g,n=new g,i.pipe(t),i.pipe(n),e[d].body=t,i=n),i}function E(e){return null===e?null:"string"==typeof e?"text/plain;charset=UTF-8":y(e)?"application/x-www-form-urlencoded;charset=UTF-8":_(e)?e.type||null:Buffer.isBuffer(e)?null:"[object ArrayBuffer]"===Object.prototype.toString.call(e)?null:ArrayBuffer.isView(e)?null:"function"==typeof e.getBoundary?`multipart/form-data;boundary=${e.getBoundary()}`:e instanceof r?null:"text/plain;charset=UTF-8"}function x(e){const t=e.body;return null===t?0:_(t)?t.size:Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync&&(t._lengthRetrievers&&0==t._lengthRetrievers.length||t.hasKnownLength&&t.hasKnownLength())?t.getLengthSync():null}m.prototype={get body(){return this[d].body},get bodyUsed(){return this[d].disturbed},arrayBuffer(){return b.call(this).then(function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)})},blob(){let e=this.headers&&this.headers.get("content-type")||"";return b.call(this).then(function(t){return Object.assign(new h([],{type:e.toLowerCase()}),{[u]:t})})},json(){var e=this;return b.call(this).then(function(t){try{return JSON.parse(t.toString())}catch(t){return m.Promise.reject(new p(`invalid json response body at ${e.url} reason: ${t.message}`,"invalid-json"))}})},text(){return b.call(this).then(function(e){return e.toString()})},buffer(){return b.call(this)},textConverted(){var e=this;return b.call(this).then(function(t){return function(e,t){if("function"!=typeof f)throw new Error("The package `encoding` must be installed to use the textConverted() function");const n=t.get("content-type");let r,i,o="utf-8";n&&(r=/charset=([^;]*)/i.exec(n));i=e.slice(0,1024).toString(),!r&&i&&(r=/<meta.+?charset=(['"])(.+?)\1/i.exec(i));!r&&i&&(r=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(i))&&(r=/charset=(.*)/i.exec(r.pop()));!r&&i&&(r=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(i));r&&("gb2312"!==(o=r.pop())&&"gbk"!==o||(o="gb18030"));return f(e,"UTF-8",o).toString()}(t,e.headers)})}},Object.defineProperties(m.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),m.mixIn=function(e){for(const t of Object.getOwnPropertyNames(m.prototype))if(!(t in e)){const n=Object.getOwnPropertyDescriptor(m.prototype,t);Object.defineProperty(e,t,n)}},m.Promise=global.Promise;const S=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,v=/[^\t\x20-\x7e\x80-\xff]/;function T(e){if(e=`${e}`,S.test(e)||""===e)throw new TypeError(`${e} is not a legal HTTP header name`)}function R(e){if(e=`${e}`,v.test(e))throw new TypeError(`${e} is not a legal HTTP header value`)}function k(e,t){t=t.toLowerCase();for(const n in e)if(n.toLowerCase()===t)return n}const O=Symbol("map");class A{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[O]=Object.create(null),e instanceof A){const t=e.raw(),n=Object.keys(t);for(const e of n)for(const n of t[e])this.append(e,n)}else if(null==e);else{if("object"!=typeof e)throw new TypeError("Provided initializer must be an object");{const t=e[Symbol.iterator];if(null!=t){if("function"!=typeof t)throw new TypeError("Header pairs must be iterable");const n=[];for(const t of e){if("object"!=typeof t||"function"!=typeof t[Symbol.iterator])throw new TypeError("Each header pair must be iterable");n.push(Array.from(t))}for(const e of n){if(2!==e.length)throw new TypeError("Each header pair must be a name/value tuple");this.append(e[0],e[1])}}else for(const t of Object.keys(e)){const n=e[t];this.append(t,n)}}}}get(e){T(e=`${e}`);const t=k(this[O],e);return void 0===t?null:this[O][t].join(", ")}forEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=P(this),r=0;for(;r<n.length;){var i=n[r];const o=i[0],s=i[1];e.call(t,s,o,this),n=P(this),r++}}set(e,t){t=`${t}`,T(e=`${e}`),R(t);const n=k(this[O],e);this[O][void 0!==n?n:e]=[t]}append(e,t){t=`${t}`,T(e=`${e}`),R(t);const n=k(this[O],e);void 0!==n?this[O][n].push(t):this[O][e]=[t]}has(e){return T(e=`${e}`),void 0!==k(this[O],e)}delete(e){T(e=`${e}`);const t=k(this[O],e);void 0!==t&&delete this[O][t]}raw(){return this[O]}keys(){return C(this,"key")}values(){return C(this,"value")}[Symbol.iterator](){return C(this,"key+value")}}function P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value";return Object.keys(e[O]).sort().map("key"===t?function(e){return e.toLowerCase()}:"value"===t?function(t){return e[O][t].join(", ")}:function(t){return[t.toLowerCase(),e[O][t].join(", ")]})}A.prototype.entries=A.prototype[Symbol.iterator],Object.defineProperty(A.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(A.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});const L=Symbol("internal");function C(e,t){const n=Object.create(I);return n[L]={target:e,kind:t,index:0},n}const I=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==I)throw new TypeError("Value of `this` is not a HeadersIterator");var e=this[L];const t=e.target,n=e.kind,r=e.index,i=P(t,n);return r>=i.length?{value:void 0,done:!0}:(this[L].index=r+1,{value:i[r],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));function $(e){const t=Object.assign({__proto__:null},e[O]),n=k(e[O],"Host");return void 0!==n&&(t[n]=t[n][0]),t}Object.defineProperty(I,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});const M=Symbol("Response internals"),j=i.STATUS_CODES;class D{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m.call(this,e,t);const n=t.status||200,r=new A(t.headers);if(null!=e&&!r.has("Content-Type")){const t=E(e);t&&r.append("Content-Type",t)}this[M]={url:t.url,status:n,statusText:t.statusText||j[n],headers:r,counter:t.counter}}get url(){return this[M].url||""}get status(){return this[M].status}get ok(){return this[M].status>=200&&this[M].status<300}get redirected(){return this[M].counter>0}get statusText(){return this[M].statusText}get headers(){return this[M].headers}clone(){return new D(w(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}}m.mixIn(D.prototype),Object.defineProperties(D.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(D.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});const U=Symbol("Request internals"),B=o.parse,F=o.format,z="destroy"in r.Readable.prototype;function N(e){return"object"==typeof e&&"object"==typeof e[U]}class q{constructor(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};N(e)?t=B(e.url):(t=e&&e.href?B(e.href):B(`${e}`),e={});let r=n.method||e.method||"GET";if(r=r.toUpperCase(),(null!=n.body||N(e)&&null!==e.body)&&("GET"===r||"HEAD"===r))throw new TypeError("Request with GET/HEAD method cannot have body");let i=null!=n.body?n.body:N(e)&&null!==e.body?w(e):null;m.call(this,i,{timeout:n.timeout||e.timeout||0,size:n.size||e.size||0});const o=new A(n.headers||e.headers||{});if(null!=i&&!o.has("Content-Type")){const e=E(i);e&&o.append("Content-Type",e)}let s=N(e)?e.signal:null;if("signal"in n&&(s=n.signal),null!=s&&!function(e){const t=e&&"object"==typeof e&&Object.getPrototypeOf(e);return!(!t||"AbortSignal"!==t.constructor.name)}(s))throw new TypeError("Expected signal to be an instanceof AbortSignal");this[U]={method:r,redirect:n.redirect||e.redirect||"follow",headers:o,parsedURL:t,signal:s},this.follow=void 0!==n.follow?n.follow:void 0!==e.follow?e.follow:20,this.compress=void 0!==n.compress?n.compress:void 0===e.compress||e.compress,this.counter=n.counter||e.counter||0,this.agent=n.agent||e.agent}get method(){return this[U].method}get url(){return F(this[U].parsedURL)}get headers(){return this[U].headers}get redirect(){return this[U].redirect}get signal(){return this[U].signal}clone(){return new q(this)}}function V(e){Error.call(this,e),this.type="aborted",this.message=e,Error.captureStackTrace(this,this.constructor)}m.mixIn(q.prototype),Object.defineProperty(q.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(q.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}}),V.prototype=Object.create(Error.prototype),V.prototype.constructor=V,V.prototype.name="AbortError";const H=r.PassThrough,Z=o.resolve;function Y(e,t){if(!Y.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return m.Promise=Y.Promise,new Y.Promise(function(n,o){const l=new q(e,t),u=function(e){const t=e[U].parsedURL,n=new A(e[U].headers);if(n.has("Accept")||n.set("Accept","*/*"),!t.protocol||!t.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(t.protocol))throw new TypeError("Only HTTP(S) protocols are supported");if(e.signal&&e.body instanceof r.Readable&&!z)throw new Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let i=null;if(null==e.body&&/^(POST|PUT)$/i.test(e.method)&&(i="0"),null!=e.body){const t=x(e);"number"==typeof t&&(i=String(t))}i&&n.set("Content-Length",i),n.has("User-Agent")||n.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),e.compress&&!n.has("Accept-Encoding")&&n.set("Accept-Encoding","gzip,deflate");let o=e.agent;return"function"==typeof o&&(o=o(t)),n.has("Connection")||o||n.set("Connection","close"),Object.assign({},t,{method:e.method,headers:$(n),agent:o})}(l),c=("https:"===u.protocol?s:i).request,h=l.signal;let f=null;const d=function(){let e=new V("The user aborted a request.");o(e),l.body&&l.body instanceof r.Readable&&l.body.destroy(e),f&&f.body&&f.body.emit("error",e)};if(h&&h.aborted)return void d();const g=function(){d(),y()},m=c(u);let b;function y(){m.abort(),h&&h.removeEventListener("abort",g),clearTimeout(b)}h&&h.addEventListener("abort",g),l.timeout&&m.once("socket",function(e){b=setTimeout(function(){o(new p(`network timeout at: ${l.url}`,"request-timeout")),y()},l.timeout)}),m.on("error",function(e){o(new p(`request to ${l.url} failed, reason: ${e.message}`,"system",e)),y()}),m.on("response",function(e){clearTimeout(b);const t=function(e){const t=new A;for(const n of Object.keys(e))if(!S.test(n))if(Array.isArray(e[n]))for(const r of e[n])v.test(r)||(void 0===t[O][n]?t[O][n]=[r]:t[O][n].push(r));else v.test(e[n])||(t[O][n]=[e[n]]);return t}(e.headers);if(Y.isRedirect(e.statusCode)){const r=t.get("Location"),i=null===r?null:Z(l.url,r);switch(l.redirect){case"error":return o(new p(`redirect mode is set to error: ${l.url}`,"no-redirect")),void y();case"manual":if(null!==i)try{t.set("Location",i)}catch(e){o(e)}break;case"follow":if(null===i)break;if(l.counter>=l.follow)return o(new p(`maximum redirect reached at: ${l.url}`,"max-redirect")),void y();const r={headers:new A(l.headers),follow:l.follow,counter:l.counter+1,agent:l.agent,compress:l.compress,method:l.method,body:l.body,signal:l.signal,timeout:l.timeout};return 303!==e.statusCode&&l.body&&null===x(l)?(o(new p("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void y()):(303!==e.statusCode&&(301!==e.statusCode&&302!==e.statusCode||"POST"!==l.method)||(r.method="GET",r.body=void 0,r.headers.delete("content-length")),n(Y(new q(i,r))),void y())}}e.once("end",function(){h&&h.removeEventListener("abort",g)});let r=e.pipe(new H);const i={url:l.url,status:e.statusCode,statusText:e.statusMessage,headers:t,size:l.size,timeout:l.timeout,counter:l.counter},s=t.get("Content-Encoding");if(!l.compress||"HEAD"===l.method||null===s||204===e.statusCode||304===e.statusCode)return f=new D(r,i),void n(f);const u={flush:a.Z_SYNC_FLUSH,finishFlush:a.Z_SYNC_FLUSH};if("gzip"==s||"x-gzip"==s)return r=r.pipe(a.createGunzip(u)),f=new D(r,i),void n(f);if("deflate"!=s&&"x-deflate"!=s){if("br"==s&&"function"==typeof a.createBrotliDecompress)return r=r.pipe(a.createBrotliDecompress()),f=new D(r,i),void n(f);f=new D(r,i),n(f)}else{e.pipe(new H).once("data",function(e){r=8==(15&e[0])?r.pipe(a.createInflate()):r.pipe(a.createInflateRaw()),f=new D(r,i),n(f)})}}),function(e,t){const n=t.body;null===n?e.end():_(n)?n.stream().pipe(e):Buffer.isBuffer(n)?(e.write(n),e.end()):n.pipe(e)}(m,l)})}Y.isRedirect=function(e){return 301===e||302===e||303===e||307===e||308===e},Y.Promise=global.Promise,t.default=Y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3);class i{constructor(e){this._collection=e}provideCodeActions(e,t){const{uri:n}=e,r=this._collection.get(n).filter(e=>"APLint"===e.source);if(!r.length)return;const i=r.filter(e=>e.range.contains(t));return i.length?[this.openDocumentation(i[0])]:void 0}openDocumentation(e){const t=new r.CodeAction("Open rule documentation",r.CodeActionKind.QuickFix);return t.command={title:"Open Rule Documentation",command:"extension.APLint:OpenRuleDocumentation",arguments:[e]},t}}i.providedCodeActionKinds=[r.CodeActionKind.QuickFix],t.DocumentationProvider=i}]);
//# sourceMappingURL=index.js.map